!function(){function a(a){h("/api/settings",{json:"{}"},function(b){var c=j.create(b);a(c)})}function b(a){d(a),c(a)}function c(a){var b=a.customCSS();if(b){var c=document.createElement("style");c.setAttribute("type","text/css"),c.innerHTML=b,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(c)}}function d(a){var b=a.readMoreSelector(),c=document.querySelector(b);if(c){var d=f(c,a);if(d){g(a),i.setStyles(c,{maxHeight:d+"px"}),i.addClass(c,"antenna-readmore-crop");var h=e(a);c.appendChild(h);var j=h.querySelector(".antenna-readmore-action");j&&j.addEventListener("click",function(){i.setStyles(c,{maxHeight:""}),i.removeClass(c,"antenna-readmore-crop"),h.parentNode.removeChild(h)})}}}function e(a){var b=document.createElement("div");b.innerHTML=k.readMoreHtml;var c=a.readMoreLabel();return c&&(b.querySelector(".antenna-readmore-action").innerHTML=c),b.firstChild}function f(a,b){var c=b.cropSelector(),d=b.cropMinHeight();if(c){var e=a.querySelectorAll(c);if(e.length>0)for(var f=0;f<e.length;f++){var g=e[f].getBoundingClientRect().bottom-e[0].getBoundingClientRect().top;if(g>d){var h=e[f].getBoundingClientRect().bottom-a.getBoundingClientRect().top;return h}}}}function g(a){var b=k.readMoreCSS,c=a.readMoreCSS();c&&(b+=c);var d=document.createElement("style");d.setAttribute("type","text/css"),d.innerHTML=b,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(d)}function h(a,b,c){var d="local.antenna.is:8081"===window.location.host?"http://local-static.antenna.is:8081":"https://www.antenna.is";i.getJSONP(d+a,b,function(a){"success"===a.status&&c(a.data)})}var i=function(){function a(a,b){b.parentNode.insertBefore(a,b.nextSibling)}function b(a){for(var b=document.querySelectorAll(a),c=0;c<b.length;c++){var d=b[c];d.parentNode.removeChild(d)}}function c(a,b){var c=a.style;for(var d in b)c[d]=b[d]}function d(a,b){a.classList.add(b)}function e(a,b){a.classList.remove(b)}function f(a,b,c){var d=document.createElement("script"),e="antenna"+Math.random().toString(16).slice(2);window[e]=function(a){try{c(a)}finally{delete window[e],d.parentNode.removeChild(d)}};var f=a+"?callback="+e;b&&(f+="&json="+encodeURI(JSON.stringify(b))),d.setAttribute("type","application/javascript"),d.setAttribute("src",f),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(d)}function g(){return"ontouchstart"in window&&(window.matchMedia("screen and (max-device-width: 480px) and (orientation: portrait)").matches||window.matchMedia("screen and (max-device-width: 768px) and (orientation: landscape)").matches)}return{insertAfter:a,removeNodes:b,setStyles:c,addClass:d,removeClass:e,getJSONP:f,isMobile:g}}(),j=function(){function a(a){function b(b){return function(){var d;return d=window.antenna_extend&&window.antenna_extend.hasOwnProperty(b)?window.antenna_extend[b]:a.hasOwnProperty(b)?a[b]:c[b]}}return{readMoreSelector:b("readmore_selector"),readMoreLabel:b("readmore_label"),readMoreCSS:b("readmore_css"),cropSelector:b("readmore_crop_selector"),cropMinHeight:b("readmore_crop_min"),customCSS:b("custom_css")}}var b="local.antenna.is:8081"===window.location.host,c={readmore_selector:b?".entry-post":"article.article-page div.container",readmore_crop_selector:b?"p":".article-body p",readmore_crop_min:400};return{create:a}}(),k=function(){var a='<div class="antenna-readmore">\n    <div class="antenna-readmore-fade"></div>\n    <div class="antenna-readmore-body">\n        <div class="antenna-readmore-action">Read More</div>\n    </div>\n</div>\n',b=".antenna-readmore {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 999999;\n}\n.antenna-readmore-fade {\n    height: 100px;\n    background-image: linear-gradient(to bottom,rgba(255,255,255,0),rgba(255,255,255,1));\n}\n.antenna-readmore-body {\n    padding: 20px;\n    text-align: left;\n    background: #FFFFFF;\n}\n.antenna-readmore-action {\n    display: inline-block;\n    padding: 10px;\n    border: 2px solid black;\n    text-align: center;\n    font-weight: bold;\n    cursor: pointer;\n    ms-touch-action: manipulation;\n    touch-action: manipulation;\n}\n.antenna-readmore-crop {\n    position: relative;\n    overflow-y: hidden !important;\n}\n";return{readMoreHtml:a,readMoreCSS:b}}();document.querySelector&&Element.prototype.addEventListener&&"classList"in document.createElement("div")&&i.isMobile()&&a(b)}();
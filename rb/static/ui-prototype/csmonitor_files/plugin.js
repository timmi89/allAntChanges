/* (c) 2008, 2009, 2010 Add This, LLC */
(function(b,c,e){var a,h=document,g=0,m=b.util;function j(){if(g){return 1}k("xtc",1);if(1==b.cookie.rck("xtc")){g=1}f("xtc",1);return g}function l(o){if(_atc.xck){return}var n=o||_ate.dh||_ate.du||(_ate.dl?_ate.dl.hostname:"");if(n.indexOf(".gov")>-1||n.indexOf(".mil")>-1){_atc.xck=1}var q=typeof(b.pub)==="function"?b.pub():b.pub,d=["usarmymedia","govdelivery"];for(i in d){if(q==d[i]){_atc.xck=1;break}}}function f(n,d){if(h.cookie){h.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"+(d?"; domain="+(b.bro.msi?"":".")+"addthis.com":"")}}function k(o,n,p,q,d){l();if(!_atc.xck){if(!d){var d=new Date();d.setYear(d.getFullYear()+2)}document.cookie=o+"="+n+(!p?"; expires="+d.toUTCString():"")+"; path=/;"+(!q?" domain="+(b.bro.msi?"":".")+"addthis.com":"")}}if(!b.cookie){b.cookie={}}b.cookie.sck=k;b.cookie.kck=f;b.cookie.cww=j;b.cookie.gov=l})(_ate,_ate.api,_ate);_ate.extend(addthis,{counter:(function(){var q=Math.random()<_atc.famp,y=_ate,v=document,m=window,f={},l={},s={};function p(w,d,a){w/=d;w=Math.round(w*10)/10;if((w+"").length>4){w=Math.round(w)}return w+a}function j(a){var d=(""+a).split(".").shift().length;if(isNaN(a)){return a}else{if(d<4){return Math.round(a)}else{if(d<7){return p(a,1000,"K")}else{if(d<10){return p(a,1000000,"M")}else{return p(a,1000000000,"B")}}}}}function o(d){try{if(m.JSON&&m.JSON.parse){return JSON.parse(d)}}catch(a){return{}}}function n(d){try{if(m.JSON&&m.JSON.stringify){return JSON.stringify(d)}}catch(a){return""}}function g(d){var a=_ate.cookie.rck("_atshc");if(a){return(o(a)||{})[d]||-1}return -1}function c(d,w){var a=_ate.cookie.rck("_atshc"),A;if(a){a=o(a);A=(a||{})[d]||0;if(A&&w>=A){delete a[d];_ate.cookie.sck("_atshc",n(a),1,1)}}}function x(d){var a=_ate.cookie.rck("_atshc"),w=z(d)+1;d.shares=w;t(d,j(w));if(!a){a={}}else{a=o(a)}if(a[d.url]){delete a[d.url]}l[d.url]=a[d.url]=w;_ate.cookie.sck("_atshc",n(a),1,1)}function z(a){var d=0;if(a&&a.shares){d=a.shares;if(isNaN(d)){d=0}}return d}function t(a,C){if(!a){return}if(a.firstChild&&a.firstChild.nodeType==3){a.removeChild(a.firstChild)}if(!a.firstChild){var A=v.ce("a"),w=v.ce("a"),d=v.ce("span"),B=v.createTextNode("Share"),D=a.addthis_conf||{},E=a.addthis_share||{},F=a.className.indexOf("pill_style")>-1;A.className="addthis_button_expanded";w.className="atc_s addthis_button_compact";a.appendChild(A);a.appendChild(w);w.appendChild(d);d.appendChild(B);if(document.compatMode=="BackCompat"){if(_ate.bro.chr||_ate.bro.saf){d.style.lineHeight="18px"}else{if(_ate.bro.msi&&F){A.style.lineHeight="16px"}}}D.ui_offset_top=_ate.bro.msi?0:18;D.ui_offset_left=-4;D.product="sco"+(F?"pl":"")+"-"+_atc.ver;addthis.button(w,D,E);addthis._render([A],{conf:D,share:E},{nohover:true,singleservice:"more"})}if(a.firstChild.firstChild){a.firstChild.removeChild(a.firstChild.firstChild)}C=v.createTextNode(C);a.firstChild.appendChild(C)}function b(a,d){a.shares=d;t(a,j(d))}function k(a,A,B){var d=0,w=g(a.url);if(A.error){d="?"}else{d=A.shares}if(!isNaN(w)&&((isNaN(d)&&w>0)||w>d)){d=w}else{c(a.url,d)}if(!l[a.url]){l[a.url]=d}B(a,d)}function u(a,A){var d=g(a.url);if(!s[a.url]){s[a.url]=[]}s[a.url].push(a);_ate.ed.addEventListener("addthis.menu.share",function(B){try{if(B.data.service&&_ate.track.mgu(B.data.url,{clean:1,defrag:1})==a.url){x(a)}}catch(B){}});if(l[a.url]!==undefined){A(a,l[a.url])}else{if(a.url){if(!isNaN(d)&&d>0){A(a,d)}var w="sc_"+encodeURIComponent(a.url).replace(/[0-3][A-Z]|[^a-zA-Z0-9]/g,"");_ate.track.apc("sco"+(a.className.indexOf("pill_style")>-1?"pl":"")+"-"+_atc.ver);if(!_ate.cbs){_ate.cbs={}}if(!_ate.cbs[w]){_ate.cbs[w]=function(D){clearTimeout(f[w]);if(q){var E=((new Date()).getTime()-_ate.cbs["time_"+w]),B=new Image();y.imgz.push(B);B.src="//l.addthiscdn.com/live/t00/mu.gif?a=sc&r="+(1/q)+"&"+(isNaN(E)?"err=1":"t="+E)}if(D&&!D.error&&D.shares){l[a.url]=D.shares}for(var C=0;C<s[a.url].length;C++){k(s[a.url][C],D,A)}};_ate.cbs["time_"+w]=(new Date()).getTime();_ate.ajs("//api-public.addthis.com/url/shares.json?url="+_euc(a.url)+"&callback=_ate.cbs."+encodeURIComponent(w),1);clearTimeout(f[w]);f[w]=setTimeout(function(){for(var B=0;B<s[a.url].length;B++){k(s[a.url][B],{error:{message:"server timed out",code:999}},A)}},10000)}}}}function h(D,w,C){if(D){D=addthis._select(D);for(var A=0;A<D.length;A++){var a=D[A],B=((a.parentNode||{}).className||"").indexOf("addthis_toolbox")>-1?addthis.util.getAttributes(a.parentNode,w,C):null,d=addthis.util.getAttributes(a,B?B.conf:w,B?B.share:C,true);if(!a.ost){if(a.className.indexOf("addthis_counter")==-1){a.className+=" addthis_counter"}if(_ate.bro.ie6&&a.className.indexOf("compatmode")==-1){a.className+=(" compatmode"+_ate.bro.mod)}a.url=_ate.track.mgu((C||{}).url||d.share.url||(m.addthis_share||{}).url,{clean:1,defrag:1});a.addthis_conf=d.conf;a.addthis_share=d.share;a.ost=1;t(a,"--");u(a,function(E,F){b(E,F)})}}}}function r(w,a,d){h(w,a,d)}function e(){var d=addthis.counter.selects;addthis.counter=r;addthis.counter.ost=1;addthis.counter(".addthis_counter");if(d){for(var a=0;a<d.length;a++){addthis.counter(d[a].counter,d[a].config,d[a].share)}}}if(_adr.isReady){e();return r}else{addthis.addEventListener("addthis.ready",e);return addthis}})()});
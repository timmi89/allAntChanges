if(!Array.prototype.indexOf){Array.prototype.indexOf=function(a){var b;for(b=0;b<this.length;b++){if(this[b]===a){return b}}return -1}}$tb(function(){var b=getSiloUrl(cmnunt_silo,cmnunt_site);var d=getSiloLabel(cmnunt_silo,cmnunt_site);var c=GetRandomNumberBetween(0,4);var a="";switch(cmnunt_silo){case"s_sty":a="#style_"+c;break;case"s_sne":a="#sneakers_"+c;break;case"s_mus":a="#music_"+c;break;case"s_gam":a="#videoGames_"+c;break;case"s_pop":a="#popCulture_"+c;break;case"s_spo":a="#sports_"+c;break;default:break}if(d!=""){$tb(a).html('<a class= "siloLink" href="'+b+'">'+d+"</a>")}$tb(".view_all").live("click",function(){overlay();var j=$tb(this).parent().attr("id");var i="";var f="";var e=$tb("#cmn_network_container").css("height");var k=$tb("#cmn_network_links").css("left");var h=$tb("#cmn_network_links").css("width");if($tb(window).width()<=900){$tb("#selectedSiloContainer").css("left","0px")}else{$tb("#selectedSiloContainer").css("left","4%")}var g=$tb("#siloContainer").css("width");e=e.replace("px","");if(isNaN(e)){e=Number(e)-35}else{e-=35}$tb("#siloContainer").css("left",k);$tb("#selectedSilo").css({height:e});$tb("#close").css({width:g});switch(j){case"style":f="STYLE & ART";i=viewAll(sitesBySilo.style,j);$tb("#close label").html(f);break;case"sneakers":f="SNEAKERS";i=viewAll(sitesBySilo.sneakers,j);$tb("#close label").html(f);break;case"music":f="MUSIC";i=viewAll(sitesBySilo.music,j);$tb("#close label").html(f);break;case"videoGames":f="VIDEO GAMES";i=viewAll(sitesBySilo.videoGames,j);$tb("#close label").html(f);break;case"popCulture":f="ENTERTAINMENT";i=viewAll(sitesBySilo.popCulture,j);$tb("#close label").html(f);break;case"sports":f="SPORTS";i=viewAll(sitesBySilo.sports,j);$tb("#close label").html(f);break;default:break}$tb("#selectedSiloContainer").html(i)});$tb("#close-arrow").live("click",overlay)});function includeSocialNetworkLogos(){var a="http://cdn.complexmedianetwork.com/cdn/toolbar/v2.0.5/images/toolbar_sprite_image.png";if((cmn_tb_theme=="dark")||(cmn_tb_theme=="style")){$tb("#fatmata").css("background","url("+a+") no-repeat -260px -76px");$tb("#fb a").css({background:"url("+a+") no-repeat -260px -76px"});$tb("#twitter a").css({background:"url("+a+") no-repeat -440px -76px"});$tb("#google_plus a").css({background:"url("+a+") no-repeat -296px -76px"});$tb("#digg a").css({background:"url("+a+") no-repeat -224px -76px"});$tb("#stumble_upon a").css({background:"url("+a+") no-repeat -368px -76px"});$tb("#pinterest a").css({background:"url("+a+") no-repeat -332px -76px"});$tb("#tumblr a").css({background:"url("+a+") no-repeat -404px -76px"})}else{$tb("#fb a").css({background:"url("+a+") no-repeat -512px -76px"});$tb("#twitter a").css({background:"url("+a+") no-repeat -692px -76px"});$tb("#google_plus a").css({background:"url("+a+") no-repeat -548px -76px"});$tb("#digg a").css({background:"url("+a+") no-repeat -476px -76px"});$tb("#stumble_upon a").css({background:"url("+a+") no-repeat -620px -76px"});$tb("#pinterest a").css({background:"url("+a+") no-repeat -584px -76px"});$tb("#tumblr a").css({background:"url("+a+") no-repeat -656px -76px"})}}function setCMNlogoBasedOnTheme(){$tb("#advertise a").css({width:"135px",height:"24px"});if(cmn_tb_theme==""||cmn_tb_theme=="default"){$tb("#advertise a").css("background",'url("http://cdn.complexmedianetwork.com/cdn/toolbar/v2.0.5/images/toolbar_sprite_image.png") no-repeat scroll -692px -1px transparent')}else{if(cmn_tb_theme=="gray"){$tb("#advertise a").css("background",'url("http://cdn.complexmedianetwork.com/cdn/toolbar/v2.0.5/images/toolbar_sprite_image.png") no-repeat scroll -556px -1px transparent')}else{if((cmn_tb_theme=="dark")||(cmn_tb_theme=="style")){$tb("#advertise a").css("background",'url("http://cdn.complexmedianetwork.com/cdn/toolbar/v2.0.5/images/toolbar_sprite_image.png") no-repeat scroll -420px -1px transparent')}else{}}}}function generateDefaultSilos(f){var d="";var a="/";var g="";var b="";setCMNlogoBasedOnTheme();includeSocialNetworkLogos();if(typeof f=="object"){for(var c in f){switch(c){case"style":var e=f.style;d=generateDefaultDivs(e,"style");$tb("#style").append(d);break;case"sneakers":var e=f.sneakers;d=generateDefaultDivs(e,"sneakers");$tb("#sneakers").append(d);break;case"music":var e=f.music;d=generateDefaultDivs(e,"music");$tb("#music").append(d);break;case"videoGames":var e=f.videoGames;d=generateDefaultDivs(e,"videoGames");$tb("#videoGames").append(d);break;case"popCulture":var e=f.popCulture;d=generateDefaultDivs(e,"popCulture");$tb("#popCulture").append(d);break;case"sports":var e=f.sports;d=generateDefaultDivs(e,"sports");$tb("#sports").append(d);break;default:break}}}return d}function inJSarray(a,c){var b=a.indexOf(c);if(b!=-1){return(1)}return(0)}function generateDefaultDivs(f,b){var c=0;var d="";var h="";var a="";var k="";var j=0;var g=new Array();if((f instanceof Array)&&(b!="")){h+="    <label>"+getLabel(b)+"</label><br/>";for(var e in f){if(f[e].feature==1){d=b+"_"+e;j=GetRandomNumberBetween(0,3);while((inJSarray(g,j)==1)&&(g.length<4)){j=GetRandomNumberBetween(0,4)}if(g.length<4){g.push(j)}else{j=4}a=f[j].url;k=f[j].label;h+='    <span id = "'+d+'" class = "silo">';h+='        <a class = "siloLink" href ="'+a+'" target="_blanck">'+k+"</a>";h+="    </span><br/>"}}h+='    <span id="view_all" class="view_all">View all &raquo;</span>'}return h}function getLabel(a){var b="";switch(a){case"style":b="STYLE & ART";break;case"sneakers":b="SNEAKERS";break;case"music":b="MUSIC";break;case"videoGames":b="VIDEO GAMES";break;case"popCulture":b="ENTERTAINMENT";break;case"sports":b="SPORTS";break;default:break}return b}function getSiloUrl(d,a){var b="";var e=getObjByKeyword(d,a);for(var c in e){if((e[c].kw==d)&&(e[c].dfp==a)&&(e[c].feature==0)){b=e[c].url;break}}return b}function getSiloLabel(d,a){var b="";var e=getObjByKeyword(d,a);for(var c in e){if((e[c].kw==d)&&(e[c].dfp==a)&&(e[c].feature==0)){b=e[c].label;break}}return b}function getObjByKeyword(b,a){var c="";switch(b){case"s_sty":c=sitesBySilo.style;break;case"s_sne":c=sitesBySilo.sneakers;break;case"s_mus":c=sitesBySilo.music;break;case"s_gam":c=sitesBySilo.videoGames;break;case"s_pop":c=sitesBySilo.popCulture;break;case"s_spo":c=sitesBySilo.sports;break;default:break}return c}function GetRandomNumberBetween(b,a){return Math.floor(b+Math.random()*(a-b))}function overlay(){if($tb("#siloContainer").css("display")=="none"){$tb("#siloContainer").slideDown(400,"linear")}else{$tb("#siloContainer").slideUp(400,"linear")}}function generateDivs(e,i,b){var f="";var c=0;var g=0;var a="";var k=function(l){var d=l.length,o=-1,m,n;while(d--){n=l[++o];m=o;while(m--&&l[m].label>n.label){l[m+1]=l[m]}l[m+1]=n}return l};if(e instanceof Array){e=k(e);for(var h=1;h<=i;h++){g+=b;if(g>e.length){g=e.length}f+='<div id="detail_'+h+'">';for(c;c<g;c++){a=e[c].url;if(e[c].label!=""){if(a!=""){f+='<span id="silo_'+h+'" class="silo"><a class= "siloLink" href="'+e[c].url+'" target="_blanck">'+e[c].label+"</a></span><br/>"}else{f+='<span id="silo_'+h+'" class="silo"><label>'+e[c].label+"</label></span><br/>"}}}f+="</div>"}}return f}function viewAll(e,a){var b="";var d=1;var c=8;$tb("#selectedSiloContainer").html("");if((e!="")&&(a!="")){d=Math.ceil(e.length/c);b=generateDivs(e,d,c)}return b};
